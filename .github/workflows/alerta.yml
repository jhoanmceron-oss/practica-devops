name: Notificacion Hola Mundo


on:
  push:
    branches:
      - main

jobs:
  holamundo:
    name: Ejecutar Hola Mundo y Notificar
    runs-on: ubuntu-latest

    steps:

      - name: Checkout del repositorio
        uses: actions/checkout@v4


      - name: Configurar Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'


      - name: Ejecutar holamundo.js
        run: node holamundo.js


      - name: Enviar notificacion a ntfy.sh
        run: |
          curl -X POST https://ntfy.sh/devops-itla \
            -H "Title: âœ… Push en practica-devops" \
            -H "Priority: high" \
            -H "Tags: white_check_mark,rocket" \
            -d "ðŸš€ Nuevo push en la rama main del repositorio practica-devops por ${{ github.actor }}. Commit: ${{ github.event.head_commit.message }}"
